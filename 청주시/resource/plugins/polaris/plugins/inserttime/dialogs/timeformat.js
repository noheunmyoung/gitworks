POLARIS.dialog.add("timeformat",function(d){var a,f;f="ko"==POLARIS.lang.detect()?"yyyy년 mm월 dd일;yy년 mm월 dd일;yyyy. mm. dd.;yy/mm/dd;yy-mm-dd HH:MM;yy-mm-dd h:MM TT;yyyy年 mm月 dd日;yyyy-mm-dd;HH:MM:ss;h:MM:ss TT".split(";"):["yyyy. mm. dd.","yy/mm/dd","yyyy-mm-dd"];var k=function(c){c=c.data.getTarget();if("a"!==c.getName()&&(c=c.getParent(),"a"!==c.getName()))return;this._.dialog.selectedTimeFormatIndex=parseInt(c.getAttribute("time-format-index"));c=c.getAttribute("aria-labelledby");var h=this.getElement().getElementsByTag("a");
for(a=0;a<h.$.length;a++){var b=h.getItem(a),d=b.getAttribute("aria-labelledby");b.$.className=c===d?"polaris_list_item_selected":"polaris_list_item"}},m=POLARIS.tools.addFunction(function(c,a){c=new POLARIS.dom.event(c);a=new POLARIS.dom.element(a);var b;b=c.getKeystroke();var e="rtl"==d.lang.dir;switch(b){case 38:if(b=a.getParent().getParent().getPrevious())b=b.getChild([a.getParent().getIndex(),0]),b.focus();c.preventDefault();break;case 40:(b=a.getParent().getParent().getNext())&&(b=b.getChild([a.getParent().getIndex(),
0]))&&b.focus();c.preventDefault();break;case 32:k({data:c});c.preventDefault();break;case e?37:39:if(b=a.getParent().getNext())b=b.getChild(0),b.focus(),c.preventDefault(!0);else if(b=a.getParent().getParent().getNext())(b=b.getChild([0,0]))&&b.focus(),c.preventDefault(!0);break;case e?39:37:if(b=a.getParent().getPrevious())b=b.getChild(0),b.focus(),c.preventDefault(!0);else if(b=a.getParent().getParent().getPrevious())b=b.getLast().getChild(0),b.focus(),c.preventDefault(!0)}}),g=POLARIS.tools.getNextId()+
"_insert_time_label",e=['\x3cdiv class\x3d"polaris_time_format_list_div"\x3e\x3cspan id\x3d"'+g+'" class\x3d"polaris_voice_label"\x3e'+d.lang.inserttime.timeFormatLabel+"\x3c/span\x3e",'\x3ctable align\x3d"left" role\x3d"listbox" aria-labelledby\x3d"'+g+'" style\x3d"table-layout: fixed; border-collapse: collapse; border-spacing: 0; width: 100%;" cellpadding\x3d"1"',POLARIS.env.ie&&POLARIS.env.quirks?' style\x3d"position:absolute;"':"","\x3e\x3ctbody\x3e"],l=f.length;for(a=0;a<l;a++){0===a%1&&e.push('\x3ctr role\x3d"presentation"\x3e');
var n=(new Date).format(f[a]),g=POLARIS.tools.getNextNumber();e.push('\x3ctd class\x3d"polaris_time_format_list_td" style\x3d"vertical-align: center;" role\x3d"presentation"\x3e\x3ca href\x3d"javascript:void(0)" role\x3d"option"',' aria-posinset\x3d"'+(a+1)+'"',' aria-setsize\x3d"'+l+'"',' aria-labelledby\x3d"'+g+'"',' class\x3d"polaris_list_item polaris_hand" tabindex\x3d"-1" onkeydown\x3d"POLARIS.tools.callFunction( ',m,', event, this );" time-format-index\x3d"'+a+'"\x3e','\x3cspan id\x3d"'+g+'"\x3e'+
n+"\x3c/span\x3e\x3c/a\x3e","\x3c/td\x3e");0==a%1&&e.push("\x3c/tr\x3e")}if(0>a){for(;0>a;a++)e.push("\x3ctd\x3e\x3c/td\x3e");e.push("\x3c/tr\x3e")}e.push("\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e");return{title:d.lang.inserttime.timeFormat.title,minWidth:220,minHeight:180,resizable:POLARIS.DIALOG_RESIZE_NONE,onOk:function(){0<=this.selectedTimeFormatIndex&&(d.config.insertTimeFormat=f[this.selectedTimeFormatIndex]);d.fire("updateTimeCode")},contents:[{id:"tab",label:d.lang.inserttime.timeFormatLabel,
title:"",expand:!0,padding:0,elements:[{type:"html",id:"timeFormatSelector",html:e.join(""),onLoad:function(a){},onShow:function(){var c=this.getElement().getElementsByTag("a");for(a=0;a<c.$.length;a++)c.getItem(a).$.className=d.config.insertTimeFormat?d.config.insertTimeFormat===f[a]?"polaris_list_item_selected":"polaris_list_item":d.lang.inserttime.defaultFormat===f[a]?"polaris_list_item_selected":"polaris_list_item"},onClick:k,style:"border-collapse: separate; overflow:auto;"}]}]}});