(function(){function f(c,a,b){return function(){var e=this.getValue().trim(),e=!!(POLARIS.dialog.validate.integer()(e)&&e>=a&&e<b+1);e||(alert(c),this.select());return e}}POLARIS.dialog.add("gridLineSet",function(c){var a=c.lang.grid,b=c.plugins.pagination.pageInfo;return{title:c.lang.grid.gridLineSet,minWidth:298,minHeight:180,resizable:POLARIS.DIALOG_RESIZE_NONE,onShow:function(){this.setupContent()},onOk:function(){var a=this.getParentEditor(),d=this.getContentElement("gridLineSet","show").getValue();
if(b.grid.visible!=d){var c=a.getCommand("grid");if(c)if(d)for(c.state=POLARIS.TRISTATE_ON,d=0;d<c.uiItems.length;d++)c.uiItems[d].setState(POLARIS.TRISTATE_ON);else for(c.state=POLARIS.TRISTATE_OFF,d=0;d<c.uiItems.length;d++)c.uiItems[d].setState(POLARIS.TRISTATE_OFF)}this.commitContent();a.plugins.pagination.updatePageStyle(a)},contents:[{id:"gridLineSet",elements:[{id:"show",type:"checkbox",label:a.grid,setup:function(){this.setValue(b.grid.visible)},commit:function(){b.grid.visible=this.getValue()}},
{type:"html",html:""},{id:"type",type:"select",label:a.type.title,items:[[a.type.horizon,"horizon"],[a.type.vertical,"vertical"],[a.type.grid,"grid"]],"default":"grid",setup:function(){this.setValue(b.grid.type)},commit:function(){b.grid.type=this.getValue()}},{type:"html",html:""},{type:"fieldset",label:a.overlay.title,children:[]},{type:"html",html:""},{id:"overlay",type:"radio",items:[[a.overlay.back,"back"],[a.overlay.front,"front"]],"default":"back",setup:function(){this.setValue(0==b.grid.overlay?
"back":"front")},commit:function(){b.grid.overlay="front"==this.getValue()}},{type:"hbox",widths:["94px","auto","94px","auto"],children:[{id:"hspacing",type:"text",label:a.spacing.horizon,maxLength:2,validate:f(a.spacing.invalidHorizontal,1,25),setup:function(){this.setValue(parseInt(b.grid.hSpace))},commit:function(){b.grid.hSpace=this.getValue()+"mm"}},{type:"vbox",children:[{type:"html",html:"\x26nbsp;"},{type:"html",html:c.lang.common.unitMm,style:"line-height: 32px;"}]},{id:"vspacing",type:"text",
label:a.spacing.vertical,maxLength:2,validate:f(a.spacing.invalidVertical,1,25),setup:function(){this.setValue(parseInt(b.grid.vSpace))},commit:function(){b.grid.vSpace=this.getValue()+"mm"}},{type:"vbox",children:[{type:"html",html:"\x26nbsp;"},{type:"html",html:c.lang.common.unitMm,style:"line-height: 32px;"}]}]},{type:"fieldset",label:a.position.title,children:[]},{type:"html",html:""},{id:"position",type:"radio",items:[[a.page,"page"],[a.paper,"paper"]],"default":"page",setup:function(){this.setValue(b.grid.position)},
commit:function(){b.grid.position=this.getValue()}},{type:"hbox",widths:["94px","auto","94px","auto"],children:[{id:"hmargin",type:"text",label:a.position.horizon,maxLength:3,validate:f(a.position.invalidHorizontal,0,250),setup:function(){this.setValue(parseInt(b.grid.hMargin)+"")},commit:function(){b.grid.hMargin=this.getValue()||"0mm"}},{type:"vbox",children:[{type:"html",html:"\x26nbsp;"},{type:"html",html:c.lang.common.unitMm,style:"line-height: 32px;"}]},{id:"vmargin",type:"text",label:a.position.vertical,
maxLength:3,validate:f(a.position.invalidVertical,0,250),setup:function(){this.setValue(parseInt(b.grid.vMargin)+"")},commit:function(){b.grid.vMargin=this.getValue()||"0mm"}},{type:"vbox",children:[{type:"html",html:"\x26nbsp;"},{type:"html",html:c.lang.common.unitMm,style:"line-height: 32px;"}]}]},{type:"html",html:""}]}]}})})();