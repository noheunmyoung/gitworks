(function(){POLARIS.dialog.add("footendnotestyle",function(e){function g(b,c,a){return function(){var d=this.getValue().trim(),d=!!(POLARIS.dialog.validate.integer()(d)&&d>=c&&d<a+1);d||(alert(b),this.select());return d}}var a=e.lang.pagination,h=e.plugins.uicolor,c=e.plugins.pagination.pageInfo,f=POLARIS.tools.getNextId()+"_seperatorColorPanel";return{title:a.comment.style.title,minWidth:250,minHeight:120,resizable:POLARIS.DIALOG_RESIZE_NONE,contents:[{id:"page",label:a.comment.style.title,elements:[{type:"vbox",
widths:["50%","50%"],children:[{type:"radio",id:"radioSeperatorType","default":"footnote",items:[[a.comment.footnote,"footnote"],[a.comment.endnote,"endnote"]],onClick:function(){this.getDialog().setupContent(this.getValue())}},{type:"select",id:"selSeperatorAlign",label:a.comment.style.align,"default":"left",items:[[a.comment.style.alignLeft,"left"],[a.comment.style.alignCenter,"center"],[a.comment.style.alignRight,"right"]],setup:function(b){c[b+"Seperator"]&&this.setValue(c[b+"Seperator"].align)}},
{type:"hbox",children:[{type:"hbox",widths:["70%","30%"],children:[{type:"text",id:"txtSeperatorWidth",label:a.comment.style.width,maxLength:3,validate:g(a.comment.style.invalidWidth,0,100),"default":"25",setup:function(b){c[b+"Seperator"]&&this.setValue(parseInt(c[b+"Seperator"].width))}},{type:"vbox",children:[{type:"html",html:"\x26nbsp;"},{type:"html",html:a.comment.style.widthUnit}]}]},{type:"hbox",widths:["70%","30%"],children:[{type:"text",id:"txtSeperatorHeight",label:a.comment.style.height,
maxLength:1,validate:g(a.comment.style.invalidHeight,0,9),"default":"1",setup:function(b){c[b+"Seperator"]&&this.setValue(parseInt(c[b+"Seperator"].height))}},{type:"vbox",children:[{type:"html",html:"\x26nbsp;"},{type:"html",html:a.comment.style.heightUnit}]}]}]},{type:"hbox",widths:["50%","50%"],children:[{type:"hbox",widths:["70%","30%"],children:[{type:"html",id:"txtSeperatorColor",html:"\x3cspan\x3e"+a.comment.style.color+'\x3c/span\x3e\x3cdiv id\x3d"'+f+'"class\x3d"polaris_dialog_ui_colorpanel" style\x3d"width: 78px; background-color: #000000"\x3e\x3c/div\x3e',
setup:function(b){var a="#000000";c[b+"Seperator"]&&(a=c[b+"Seperator"].color);POLARIS.document.getById(f).setStyle("background-color",a);this.getDialog().getContentElement("page","txtSeperatorColor").setValue(a)}},h?{type:"button",id:"seperatorColorChoose","class":"colorChooser",label:e.lang.common.chooseColor,width:"100%",onLoad:function(){this.getElement().getParent().setStyle("vertical-align","bottom")},onClick:function(){e.getUIColorFromDialog(function(b){b&&(POLARIS.document.getById(f).setStyle("background-color",
b),this.getDialog().getContentElement("page","txtSeperatorColor").setValue(b))},this)}}:spacer]},{type:"select",id:"selSeperatorStyle",label:a.comment.style.style,"default":"solid",items:[[a.pageBorderStyle.borderStyles.border_solid,"solid"],[a.pageBorderStyle.borderStyles.border_dotted,"dotted"]],setup:function(b){c[b+"Seperator"]&&this.setValue(c[b+"Seperator"].style)}}]}]}]}],onShow:function(){this.setupContent("footnote")},onOk:function(){var b=this.getParentEditor();b.fire("saveSnapshot");var a=
this.getContentElement("page","radioSeperatorType").getValue();"footnote"==a?(c.footnoteSeperator.color=this.getContentElement("page","txtSeperatorColor").getValue(),c.footnoteSeperator.style=this.getContentElement("page","selSeperatorStyle").getValue(),c.footnoteSeperator.height=this.getContentElement("page","txtSeperatorHeight").getValue()+"pt",c.footnoteSeperator.width=this.getContentElement("page","txtSeperatorWidth").getValue()+"%",c.footnoteSeperator.align=this.getContentElement("page","selSeperatorAlign").getValue()):
"endnote"==a&&(c.endnoteSeperator.color=this.getContentElement("page","txtSeperatorColor").getValue(),c.endnoteSeperator.style=this.getContentElement("page","selSeperatorStyle").getValue(),c.endnoteSeperator.height=this.getContentElement("page","txtSeperatorHeight").getValue()+"pt",c.endnoteSeperator.width=this.getContentElement("page","txtSeperatorWidth").getValue()+"%",c.endnoteSeperator.align=this.getContentElement("page","selSeperatorAlign").getValue());b.plugins.pagination.updatePageStyle(b);
b.fire("saveSnapshot")}}})})();